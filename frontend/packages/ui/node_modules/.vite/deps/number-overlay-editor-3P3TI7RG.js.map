{
  "version": 3,
  "sources": ["../../../../../node_modules/.pnpm/@glideapps+glide-data-grid@6.0.3_lodash@4.17.21_marked@14.0.0_react-dom@18.2.0_react@18_6ae1ff99603d2dcd1f8353b5ad3935bb/node_modules/@glideapps/glide-data-grid/src/internal/data-grid-overlay-editor/private/number-overlay-editor.tsx", "../../../../../node_modules/.pnpm/@glideapps+glide-data-grid@6.0.3_lodash@4.17.21_marked@14.0.0_react-dom@18.2.0_react@18_6ae1ff99603d2dcd1f8353b5ad3935bb/node_modules/@glideapps/glide-data-grid/dist/esm/internal/data-grid-overlay-editor/private/number-overlay-editor-style.js"],
  "sourcesContent": ["import * as React from \"react\";\nimport { NumberOverlayEditorStyle } from \"./number-overlay-editor-style.js\";\nimport { NumericFormat } from \"react-number-format\";\nimport type { SelectionRange } from \"../../data-grid/data-grid-types.js\";\nimport type { NumberFormatValues } from \"react-number-format/types/types.js\";\n\ninterface Props {\n    readonly value: number | undefined;\n    readonly disabled?: boolean;\n    readonly onChange: (values: NumberFormatValues) => void;\n    readonly highlight: boolean;\n    readonly validatedSelection?: SelectionRange;\n    readonly fixedDecimals?: number;\n    readonly allowNegative?: boolean;\n    readonly thousandSeparator?: boolean | string;\n    readonly decimalSeparator?: string;\n}\n\nfunction getDecimalSeparator() {\n    const numberWithDecimalSeparator = 1.1;\n    const result = Intl.NumberFormat()\n        ?.formatToParts(numberWithDecimalSeparator)\n        ?.find(part => part.type === \"decimal\")?.value;\n\n    return result ?? \".\";\n}\n\nfunction getThousandSeprator() {\n    return getDecimalSeparator() === \".\" ? \",\" : \".\";\n}\n\nconst NumberOverlayEditor: React.FunctionComponent<Props> = p => {\n    const {\n        value,\n        onChange,\n        disabled,\n        highlight,\n        validatedSelection,\n        fixedDecimals,\n        allowNegative,\n        thousandSeparator,\n        decimalSeparator,\n    } = p;\n\n    const inputRef = React.useRef<HTMLInputElement>();\n\n    React.useLayoutEffect(() => {\n        if (validatedSelection !== undefined) {\n            const range = typeof validatedSelection === \"number\" ? [validatedSelection, null] : validatedSelection;\n            inputRef.current?.setSelectionRange(range[0], range[1]);\n        }\n    }, [validatedSelection]);\n\n    return (\n        <NumberOverlayEditorStyle>\n            <NumericFormat\n                autoFocus={true}\n                getInputRef={inputRef}\n                className=\"gdg-input\"\n                onFocus={(e: React.FocusEvent<HTMLInputElement>) =>\n                    e.target.setSelectionRange(highlight ? 0 : e.target.value.length, e.target.value.length)\n                }\n                disabled={disabled === true}\n                decimalScale={fixedDecimals}\n                allowNegative={allowNegative}\n                thousandSeparator={thousandSeparator ?? getThousandSeprator()}\n                decimalSeparator={decimalSeparator ?? getDecimalSeparator()}\n                value={Object.is(value, -0) ? \"-\" : value ?? \"\"}\n                // decimalScale={3}\n                // prefix={\"$\"}\n                onValueChange={onChange}\n            />\n        </NumberOverlayEditorStyle>\n    );\n};\n\nexport default NumberOverlayEditor;\n", "import { styled } from \"@linaria/react\";\nexport const NumberOverlayEditorStyle = /*#__PURE__*/styled('div')({\n  name: \"NumberOverlayEditorStyle\",\n  class: \"gdg-n15fjm3e\",\n  propsAsIs: false\n});\n\n"],
  "mappings": ";;;;;;;;;;;;;;AAAA,YAAuB;;;ACChB,IAAM,2BAAwC,eAAO,KAAK,EAAE;AAAA,EACjE,MAAM;AAAA,EACN,OAAO;AAAA,EACP,WAAW;AACb,CAAC;;;ADaD,SAAS,sBAAmB;AACxB,QAAM,6BAA6B;AACnC,QAAM,SAAS,KAAK,aAAY,GAC1B,cAAc,0BAA0B,GACxC,KAAK,UAAQ,KAAK,SAAS,SAAS,GAAG;AAE7C,SAAO,UAAU;AACrB;AAEA,SAAS,sBAAmB;AACxB,SAAO,oBAAmB,MAAO,MAAM,MAAM;AACjD;AAEA,IAAM,sBAAsD,OAAI;AAC5D,QAAM,EACF,OACA,UACA,UACA,WACA,oBACA,eACA,eACA,mBACA,iBAAgB,IAChB;AAEJ,QAAM,WAAiB,aAAM;AAE7B,EAAM,sBAAgB,MAAK;AACvB,QAAI,uBAAuB,QAAW;AAClC,YAAM,QAAQ,OAAO,uBAAuB,WAAW,CAAC,oBAAoB,IAAI,IAAI;AACpF,eAAS,SAAS,kBAAkB,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;;EAE9D,GAAG,CAAC,kBAAkB,CAAC;AAEvB,SACI;IAAC;IAAwB;IACrB,oBAAC,eAAa;MACV,WAAW;MACX,aAAa;MACb,WAAU;MACV,SAAS,CAAC,MACN,EAAE,OAAO,kBAAkB,YAAY,IAAI,EAAE,OAAO,MAAM,QAAQ,EAAE,OAAO,MAAM,MAAM;MAE3F,UAAU,aAAa;MACvB,cAAc;MACd;MACA,mBAAmB,qBAAqB,oBAAmB;MAC3D,kBAAkB,oBAAoB,oBAAmB;MACzD,OAAO,OAAO,GAAG,OAAO,EAAE,IAAI,MAAM,SAAS;;;MAG7C,eAAe;IAAQ,CAAA;EACzB;AAGd;AAEA,IAAA,gCAAe;",
  "names": []
}
