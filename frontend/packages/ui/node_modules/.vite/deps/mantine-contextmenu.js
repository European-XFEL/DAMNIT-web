"use client";
import {
  Box,
  Paper,
  Portal,
  UnstyledButton,
  parseThemeColor,
  px,
  rgba,
  useDirection
} from "./chunk-6MM735KU.js";
import "./chunk-73RQ32DC.js";
import {
  require_jsx_runtime
} from "./chunk-BTI7CX2R.js";
import {
  useHotkeys,
  useMediaQuery,
  useResizeObserver,
  useTimeout,
  useWindowEvent
} from "./chunk-4GJJ4ASR.js";
import {
  clsx_default
} from "./chunk-SIU35MPB.js";
import "./chunk-RT6DVEZF.js";
import "./chunk-BAAXDTWD.js";
import {
  require_react
} from "./chunk-VGMXIX3P.js";
import "./chunk-XPHO4OZ7.js";
import {
  __toESM
} from "./chunk-V4OQ3NZ2.js";

// ../../node_modules/.pnpm/mantine-contextmenu@7.17.1_@mantine+core@7.17.8_@mantine+hooks@7.17.8_react@18.2.0__@ty_2975b729db4f721091c996384aee9926/node_modules/mantine-contextmenu/dist/index.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);
var import_react2 = __toESM(require_react(), 1);
var import_react3 = __toESM(require_react(), 1);
var import_react4 = __toESM(require_react(), 1);
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var import_jsx_runtime4 = __toESM(require_jsx_runtime(), 1);
var import_jsx_runtime5 = __toESM(require_jsx_runtime(), 1);
var import_jsx_runtime6 = __toESM(require_jsx_runtime(), 1);
function T({ className: e, style: t }) {
  return (0, import_jsx_runtime.jsx)(Box, { className: clsx_default("mantine-contextmenu-divider", e), style: t });
}
function W({ zIndex: e, children: t, onHide: o }) {
  let { repositionOnRepeat: l } = (0, import_react4.useContext)(v);
  return (0, import_jsx_runtime2.jsx)("div", { className: "mantine-contextmenu-overlay", style: { zIndex: e }, onClick: (r) => {
    r.preventDefault(), o();
  }, onContextMenu: async (r) => {
    if (r.preventDefault(), l) {
      let { clientX: i, clientY: u } = r;
      try {
        document.elementsFromPoint(i, u)[1].dispatchEvent(new MouseEvent("contextmenu", { bubbles: true, clientX: i, clientY: u }));
      } catch {
      }
    } else o();
  }, children: t });
}
function A({ onHide: e, zIndex: t, ...o }) {
  return useWindowEvent("resize", e), useWindowEvent("scroll", e), useHotkeys([["Escape", e]]), (0, import_jsx_runtime3.jsx)(Portal, { children: (0, import_jsx_runtime3.jsx)(W, { zIndex: t, onHide: e, children: (0, import_jsx_runtime3.jsx)(H, { ...o, onHide: e }) }) });
}
var O = { shadow: "sm", borderRadius: "xs", submenuDelay: 500, repositionOnRepeat: false };
var v = (0, import_react3.createContext)(O);
var U = (0, import_react3.createContext)({ showContextMenu: () => () => {
}, hideContextMenu: () => {
}, isContextMenuVisible: false });
function De({ zIndex: e = 9999, shadow: t = O.shadow, borderRadius: o = O.borderRadius, submenuDelay: l = O.submenuDelay, repositionOnRepeat: c = O.repositionOnRepeat, children: C }) {
  let [r, i] = (0, import_react3.useState)(null), u = () => {
    i(null);
  }, M = (y, s) => (n) => {
    n.preventDefault(), n.stopPropagation();
    let { x: f, y: p } = "touches" in n ? { x: n.touches.item(0).clientX, y: n.touches.item(0).clientY } : { x: n.clientX, y: n.clientY };
    i({ x: f, y: p, content: y, zIndex: s?.zIndex || e, className: s?.className, style: s?.style, classNames: s?.classNames, styles: s?.styles });
  };
  return (0, import_jsx_runtime4.jsx)(v.Provider, { value: { shadow: t, borderRadius: o, submenuDelay: l, repositionOnRepeat: c }, children: (0, import_jsx_runtime4.jsxs)(U.Provider, { value: { showContextMenu: M, hideContextMenu: u, isContextMenuVisible: !!r }, children: [C, r && (0, import_jsx_runtime4.jsx)(A, { onHide: u, ...r })] }) });
}
function ze() {
  return (0, import_react3.useContext)(U);
}
function $(e) {
  let t = e.replace(/([a-z\d])([A-Z]+)/g, "$1 $2").replace(/\W|_/g, " ").trim().toLowerCase();
  return `${t.charAt(0).toUpperCase()}${t.slice(1)}`;
}
function H({ x: e, y: t, content: o, zIndex: l, onHide: c, className: C, style: r, classNames: i, styles: u }) {
  let { shadow: M, borderRadius: y } = (0, import_react2.useContext)(v), [s] = useResizeObserver(), { width: n, height: f } = s.current?.getBoundingClientRect() || { width: 0, height: 0 }, p = 0, P = 0;
  typeof window < "u" && ({ innerWidth: p, innerHeight: P } = window);
  let { dir: I } = useDirection();
  return (0, import_jsx_runtime5.jsx)(Paper, { ref: s, shadow: M, radius: y, className: clsx_default("mantine-contextmenu", C, i?.root), style: [({ spacing: { md: h } }) => {
    let m = px(h);
    return { zIndex: l, top: t + f + m > P ? P - f - m : t, left: I === "ltr" ? e + n + m > p ? p - n - m : e : p - m - (e - n - m < 0 ? n + m : e) };
  }, r, u?.root], children: Array.isArray(o) ? o.map(({ key: h, hidden: m, className: g, style: E, onClick: w, items: S, title: D, ...a }) => m ? null : w || S ? (0, import_jsx_runtime5.jsx)(V, { className: clsx_default(i?.item, g), style: [u?.item, E], title: D ?? $(h), onClick: w, onHide: c, items: S, ...a }, h) : (0, import_jsx_runtime5.jsx)(T, { className: clsx_default(i?.divider, g), style: [u?.divider, E] }, h)) : o(c) });
}
function V({ className: e, style: t, icon: o, iconRight: l, title: c, color: C, disabled: r, onClick: i, onHide: u, items: M }) {
  let y = (0, import_react.useRef)(null), { submenuDelay: s } = (0, import_react.useContext)(v), n = useMediaQuery("(hover: hover)"), [f, p] = (0, import_react.useState)(null), { start: P, clear: I } = useTimeout(() => {
    let { top: a, right: b } = y.current.getBoundingClientRect();
    p({ x: b, y: a });
  }, s), { start: h, clear: m } = useTimeout(() => {
    p(null);
  }, s), g = () => {
    m(), P();
  }, E = () => {
    I(), h();
  }, w = M && !r, S = w && n, D = w ? (a) => {
    a.stopPropagation(), g();
  } : i ? (a) => {
    u(), i(a);
  } : void 0;
  return (0, import_jsx_runtime6.jsxs)("div", { onMouseEnter: S ? g : void 0, onMouseLeave: S ? E : void 0, children: [(0, import_jsx_runtime6.jsxs)(UnstyledButton, { ref: y, style: [(a) => {
    let { colors: b } = a, x = C ? parseThemeColor({ color: C, theme: a }).value : void 0;
    return { "--mantine-contextmenu-item-button-color": x || "var(--mantine-color-text)", "--mantine-contextmenu-item-button-hover-bg-color-light": x ? rgba(x, 0.08) : rgba(b.gray[4], 0.25), "--mantine-contextmenu-item-button-hover-bg-color-dark": x ? rgba(x, 0.15) : rgba(b.dark[3], 0.25), "--mantine-contextmenu-item-button-pressed-bg-color-light": x ? rgba(x, 0.2) : rgba(b.gray[4], 0.5), "--mantine-contextmenu-item-button-pressed-bg-color-dark": x ? rgba(x, 0.3) : rgba(b.dark[3], 0.5) };
  }, t], className: clsx_default("mantine-contextmenu-item-button", e), disabled: r, onClick: D, children: [o && (0, import_jsx_runtime6.jsx)(Box, { fz: 0, mr: "xs", mt: -2, children: o }), (0, import_jsx_runtime6.jsx)("div", { className: "mantine-contextmenu-item-button-title", children: c }), l ? (0, import_jsx_runtime6.jsx)(Box, { fz: 0, ml: "xs", mt: -2, children: l }) : M && (0, import_jsx_runtime6.jsx)(Box, { fz: 10, mt: -2, ml: "xs", children: "â–¶" })] }), f && (0, import_jsx_runtime6.jsx)(H, { content: M, onHide: u, ...f })] });
}
export {
  U as ContextMenuCtx,
  T as ContextMenuDivider,
  V as ContextMenuItem,
  A as ContextMenuPortal,
  De as ContextMenuProvider,
  v as ContextMenuSettingsCtx,
  $ as humanize,
  ze as useContextMenu
};
//# sourceMappingURL=mantine-contextmenu.js.map
